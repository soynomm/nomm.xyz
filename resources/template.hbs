<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content="{{#if description}}{{description}}{{else}}{{site_description}}{{/if}}">
    <title>{{#if is_home}}{{site_title}}{{else}}{{title}} &mdash; Nomm{{/if}}</title>
    <link rel="apple-touch-icon" sizes="180x180" href="{{site_url}}/assets/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="{{site_url}}/assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="{{site_url}}/assets/images/favicon-16x16.png">
    <link rel="manifest" href="{{site_url}}/assets/site.webmanifest">
    <link rel="alternate" type="application/rss+xml" title="Nomm &raquo; RSS" href="{{site_url}}/feed.xml" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
    :root { --color: #DF0505; }

    * {
        font-family: 'Fira Code', Lucida Console, Lucida Sans Typewriter, monaco, Bitstream Vera Sans Mono, monospace;
        font-size: 13px;
        font-weight: 400;
        line-height: 1.85;
        box-sizing: border-box;
        padding: 0;
        margin: 0;
    }

    html {
        display: flex;
        width: 100%;
        min-height: 100%;
        align-items: center;
        justify-content: center;
    }

    @media all and (max-width: 600px) { html { display: block; }}

    body.home {
        margin-top: 0;
        margin-bottom: 0;
    }

    h1, h2 { text-transform: uppercase; }
    h1 { display: block; margin-bottom: 20px; font-weight: 700; color: #111; }
    h2 { color: #999; margin-top: 100px; margin-bottom: 20px; font-weight: 500; }
    h2 a { font-weight: 500; }
    a { color: var(--color); }
    em { color: #777; }
    strong { color: #111; border-bottom: 1px solid #111; }
    code { color: #777; border-bottom: 1px dashed #e5e5e5; }
    pre code { color: #333; border-bottom:  0; overflow: auto; }
    body { width: 550px; color: #333; margin: 50px auto; }
    @media all and (max-width: 600px) { body { width: 100%; padding: 20px; margin: 0; } }

    /** HOME */
    .description { margin-top: 20px; }
    .nomm { width: 100%; }
    .nomm img { width: 100%; height: auto; }
    .posts { list-style: none; margin-top: 20px; }
    .posts li.year { text-align: right; font-weight: 500; margin-top: 40px; }
    .posts li.year:first-child { margin-top: -25px; }
    .posts li { display: flow-root; margin-bottom: 5px; }
    @media all and (max-width: 600px) { .posts li { margin-bottom: 15px; } }
    .posts li:last-child { margin-bottom: 0; }
    .posts li h3 { float: left; width: calc(100% - 100px); }
    .posts li .date { float: right; width: 100px; color: #bbb; text-align: right; vertical-align: top; }

    /** POST */
    .back { margin-bottom: 40px; }
    @media all and (min-width: 750px) { .back { position: absolute; margin-left: -80px; }}
    .back a { font-weight: 300; color: #bbb; text-decoration: none; }
    .post h1 { margin-bottom: 0; }
    .post .date { color: #bbb; margin-top: -5px; }
    .post .entry { color: #555; margin-top: 20px; }
    .post .entry p { margin-top: 20px; margin-bottom: 20px; }
    .post .entry h2,
    .post .entry h3 { margin-top: 60px; margin-bottom: 0; }
    .post .entry h2 { color: #111; }
    .post .entry hr { width: 25px; border: 0; border-top: 1px solid var(--color); margin-top: 60px;}
    </style>

    {{#if is_post}}{{#unless is_blog}}
    <script defer src="{{site_url}}/assets/js/highlight.pack.js"></script>
    <style>
    .hljs { display: block;width: calc(100% + 40px);color: #383a42;overflow: auto;background: #fff;border:1px solid #e5e5e5; border-radius: 5px; padding: 20px;margin-left: -20px; }
    @media all and (max-width: 600px) { .hljs { border-radius: 0; border-left: 0; border-right: 0; }}
    .hljs-comment, .hljs-quote { color: #a0a1a7; font-style: italic; }
    .hljs-doctag, .hljs-keyword, .hljs-formula { color: var(--color); }
    .hljs-section, .hljs-name, .hljs-selector-tag, .hljs-deletion, .hljs-subst { color: #e45649; }
    .hljs-literal { color: #0184bb; }
    .hljs-string, .hljs-regexp, .hljs-addition, .hljs-attribute, .hljs-meta-string { color: #50a14f; }
    .hljs-built_in, .hljs-class .hljs-title { color: #c18401; }
    .hljs-attr, .hljs-variable, .hljs-template-variable, .hljs-type, .hljs-selector-class, .hljs-selector-attr, .hljs-selector-pseudo, .hljs-number { color: #986801; }
    .hljs-symbol, .hljs-bullet, .hljs-link, .hljs-meta, .hljs-selector-id, .hljs-title { color: #4078f2; }
    .hljs-emphasis { font-style: italic; }
    .hljs-strong { font-weight: bold; }
    .hljs-link { text-decoration: underline; }
    </style>
    {{/unless}}{{/if}}

    {{#if is_post}}{{#if is_blog}}
    <script>
    window.addEventListener('load', () => {
        const years = [];
        document.querySelectorAll('.posts li').forEach(post => {
            const year = post.getAttribute('data-year');

            if (!years.includes(year)) {
                years.push(year);
            }
        });

        years.forEach(year => {
            const firstPost = document.querySelector('.posts li[data-year="' + year + '"]');

            firstPost.insertAdjacentHTML('beforebegin', `<li class="year">${year}</li>`);
        })
    });
    </script>
    {{/if}}{{/if}}
</head>
<body{{#if is_home}} class="home"{{/if}}>

    {{#if is_home}}
    <h1>I'm Nomm</h1>
    <div class="nomm">
        <img src="./assets/images/nomm.png" alt="Avatar" />
    </div>
    <p class="description">
        A software engineer living in Lisbon, Portugal. I spend my days at
        <a href="https://greenpowermonitor.com">GreenPowerMonitor</a> writing mostly ClojureScript and TypeScript.
        On this website you can find my <a href="{{site_url}}/projects/">projects</a> and <a href="{{site_url}}/blog/">blog</a>. The blog has a <a href="{{site_url}}/feed.xml">feed</a>, if
        you're interested in subscribing. You can also check out my <a href="https://github.com/soynomm">Github</a>,
        <a href="https://twitter.com/soynomm">Twitter</a> and send me a letter via <a href="mailto:nomm@soynomm.com">
        nomm@soynomm.com</a>.
    </p>

    {{/if}}

    {{#if is_post}}
        <div class="back">
            <a href="javascript:window.history.back();">&laquo; back</a>
        </div>

        {{#if is_blog}}

            <h1>Blog</h1>

            <ul class="posts">
            {{#posts}}
                {{#if public}}
                <li data-year="{{format_date date "%Y"}}">
                    <h3><a href="{{url}}" title="{{title}}">{{title}}</a></h3>
                    <div class="date">{{format_date date "%b %d"}}</div>
                </li>
                {{/if}}
            {{/posts}}
            </ul>

        {{else}}

            <div class="post">
                <h1>{{title}}</h1>
                {{#if date}}<div class="date">{{format_date date "%b %d, %Y"}}</div>{{/if}}
                <div class="entry">{{{entry}}}</div>
            </div>

        {{/if}}

    {{/if}}

</body>
</html>
